@page "/"
@using MyAcademy.Components.Pages.Home.Components
@rendermode InteractiveServer

<PageTitle>Home</PageTitle>

<div class="container-fluid">
    <div class="row">
        <!-- Filtre des catégories -->
        <div class="col-md-3">
            <div class="sticky-top" style="top: 10px;">
                <CategoriesFilter Categories="Categories"
                                  OnSelectionChanged="HandleSelectionChanged"/>
            </div>

        </div>

        <!-- Liste des cours -->
        <div class="col-md-9">
            @if (!string.IsNullOrEmpty(ErrorMessage))
            {
                <div class="alert alert-danger text-center">
                    @ErrorMessage
                </div>
            }

            <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
                @foreach (var course in Summaries)
                {
                    <div class="col">
                        <CourseSummaryCard Course="course"/>
                    </div>
                }
            </div>
        </div>
    </div>
</div>